{"ast":null,"code":"import axios from 'axios';\nimport { setAlert } from './alert';\nimport { GET_EXERCISES, GET_EXERCISE, GET_EXERCISES_ERROR, EDIT_EXERCISE // GET_EXERCISES_CLEAR,\n} from './types'; // Get all exercises\n\nexport const getExercises = () => async dispatch => {\n  //dispatch({ type: GET_EXERCISES_CLEAR });\n  try {\n    const res = await axios.get(`/exercises`);\n    dispatch({\n      type: GET_EXERCISES,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: GET_EXERCISES_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // Get exercise by ID\n\nexport const getExerciseById = ex_id => async dispatch => {\n  try {\n    const res = await axios.get(`/exercises/search/${ex_id}`);\n    dispatch({\n      type: GET_EXERCISE,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: GET_EXERCISES_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // Insert\n\nexport const insertExercise = (formData, history) => async dispatch => {\n  try {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const res = await axios.put('/exercises/insert', formData, config);\n    dispatch({\n      type: GET_EXERCISE,\n      payload: res.data\n    });\n    history.push('/dashboard');\n  } catch (err) {\n    dispatch({\n      type: GET_EXERCISES_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // Edit exercise\n\nexport const editExercise = (formData, ex_id) => async dispatch => {\n  try {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const res = await axios.post(`/exercises/edit/${ex_id}`, formData, config);\n    dispatch({\n      type: EDIT_EXERCISE,\n      payload: res.data\n    });\n    dispatch(setAlert('Client updated successfully', 'success'));\n  } catch (err) {\n    const errors = err.response.data.errors;\n\n    if (errors) {\n      errors.forEach(error => dispatch(setAlert(error.message, 'danger')));\n    }\n\n    dispatch({\n      type: GET_EXERCISES_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};","map":{"version":3,"sources":["C:/Users/ashad/JS_projects/clientProgrammingPlanner/client/src/actions/exercise.js"],"names":["axios","setAlert","GET_EXERCISES","GET_EXERCISE","GET_EXERCISES_ERROR","EDIT_EXERCISE","getExercises","dispatch","res","get","type","payload","data","err","msg","response","statusText","status","getExerciseById","ex_id","insertExercise","formData","history","config","headers","put","push","editExercise","post","errors","forEach","error","message"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { setAlert } from './alert';\r\nimport {\r\n  GET_EXERCISES,\r\n  GET_EXERCISE,\r\n  GET_EXERCISES_ERROR,\r\n  EDIT_EXERCISE,\r\n  // GET_EXERCISES_CLEAR,\r\n} from './types';\r\n\r\n// Get all exercises\r\nexport const getExercises = () => async (dispatch) => {\r\n  //dispatch({ type: GET_EXERCISES_CLEAR });\r\n\r\n  try {\r\n\r\n    const res = await axios.get(`/exercises`);\r\n    dispatch({\r\n      type: GET_EXERCISES,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GET_EXERCISES_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n// Get exercise by ID\r\nexport const getExerciseById = (ex_id) => async (dispatch) => {\r\n  try {\r\n\r\n    const res = await axios.get(`/exercises/search/${ex_id}`);\r\n    dispatch({\r\n      type: GET_EXERCISE,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GET_EXERCISES_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n// Insert\r\nexport const insertExercise = (formData, history) => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n    const res = await axios.put('/exercises/insert', formData, config);\r\n    dispatch({\r\n      type: GET_EXERCISE,\r\n      payload: res.data,\r\n    });\r\n    history.push('/dashboard');\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GET_EXERCISES_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n// Edit exercise\r\nexport const editExercise = (formData, ex_id) => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n    const res = await axios.post(`/exercises/edit/${ex_id}`, formData, config);\r\n    dispatch({\r\n      type: EDIT_EXERCISE,\r\n      payload: res.data,\r\n    });\r\n    dispatch(setAlert('Client updated successfully', 'success'));\r\n  } catch (err) {\r\n    const errors = err.response.data.errors;\r\n    if (errors) {\r\n      errors.forEach((error) => dispatch(setAlert(error.message, 'danger')));\r\n    }\r\n    dispatch({\r\n      type: GET_EXERCISES_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};"]},"metadata":{},"sourceType":"module"}