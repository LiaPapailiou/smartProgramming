{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\ashad\\\\JS_projects\\\\clientProgrammingPlanner\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\ashad\\\\JS_projects\\\\clientProgrammingPlanner\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{setAlert}from'./alert';import{GET_CLIENT_PROFILE,CLIENT_PROFILE_ERROR,CLEAR_PROFILE,GET_ALL_PROFILES,PROFILES_ERROR,UPDATE_RM,EDIT_CLIENT_PROFILE,DELETE_CLIENT,GET_CLIENT_ESTIMATES,GET_CLIENT_NOTES}from'./types';// Get single profile\nexport var getClientProfile=function getClientProfile(client_id){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/clients/search/\".concat(client_id));case 3:res=_context.sent;dispatch({type:GET_CLIENT_PROFILE,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:CLIENT_PROFILE_ERROR,payload:{msg:_context.t0.response.statusText,status:_context.t0.response.status}});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}();};// Get all profiles\nexport var getAllProfiles=function getAllProfiles(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:CLEAR_PROFILE});_context2.prev=1;_context2.next=4;return axios.get(\"/clients\");case 4:res=_context2.sent;dispatch({type:GET_ALL_PROFILES,payload:res.data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch({type:PROFILES_ERROR,payload:{msg:_context2.t0.response.statusText,status:_context2.t0.response.status}});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};// Insert client profile \nexport var insertClient=function insertClient(formData,history){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var config,res,errors;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;config={headers:{'Content-Type':'application/json'}};_context3.next=4;return axios.put('/clients/insert',formData,config);case 4:res=_context3.sent;dispatch({type:GET_CLIENT_PROFILE,payload:res.data});dispatch(setAlert('Client added successfully','success'));history.push('/dashboard');_context3.next=15;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);errors=_context3.t0.response.data.errors;if(errors){errors.forEach(function(error){return dispatch(setAlert(error.msg,'danger'));});}dispatch({type:CLIENT_PROFILE_ERROR,payload:{msg:_context3.t0.response.statusText,status:_context3.t0.response.status}});case 15:case\"end\":return _context3.stop();}}},_callee3,null,[[0,10]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};// Edit client profile\nexport var editClient=function editClient(formData,client_id){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var config,res,errors;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;config={headers:{'Content-Type':'application/json'}};_context4.next=4;return axios.post(\"/clients/edit/\".concat(client_id),formData,config);case 4:res=_context4.sent;dispatch({type:EDIT_CLIENT_PROFILE,payload:res.data});dispatch(setAlert('Client updated successfully','success'));_context4.next=14;break;case 9:_context4.prev=9;_context4.t0=_context4[\"catch\"](0);errors=_context4.t0.response.data.errors;if(errors){errors.forEach(function(error){return dispatch(setAlert(error.msg,'danger'));});}dispatch({type:CLIENT_PROFILE_ERROR,payload:{msg:_context4.t0.response.statusText,status:_context4.t0.response.status}});case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[0,9]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};// Add new RM\nexport var addRM=function addRM(formData,client_id){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var config,res,errors;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;config={headers:{'Content-Type':'application/json'}};_context5.next=4;return axios.post(\"/clients/add/\".concat(client_id),formData,config);case 4:res=_context5.sent;dispatch({type:UPDATE_RM,payload:res.data});dispatch(setAlert('New RM added','success'));_context5.next=14;break;case 9:_context5.prev=9;_context5.t0=_context5[\"catch\"](0);errors=_context5.t0.response.data.errors;if(errors){errors.forEach(function(error){return dispatch(setAlert(error.msg,'danger'));});}dispatch({type:CLIENT_PROFILE_ERROR,payload:{msg:_context5.t0.response.statusText,status:_context5.t0.response.status}});case 14:case\"end\":return _context5.stop();}}},_callee5,null,[[0,9]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};// Delete client\nexport var deleteClient=function deleteClient(client_id){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return axios.delete(\"/clients/delete/\".concat(client_id));case 3:dispatch({type:DELETE_CLIENT});_context6.next=9;break;case 6:_context6.prev=6;_context6.t0=_context6[\"catch\"](0);dispatch({type:CLIENT_PROFILE_ERROR,payload:{msg:_context6.t0.response.statusText,status:_context6.t0.response.status}});case 9:case\"end\":return _context6.stop();}}},_callee6,null,[[0,6]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};// Get estimates\nexport var getEstimates=function getEstimates(formData,client_id){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){var config,res,errors;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;config={headers:{'Content-Type':'application/json'}};_context7.next=4;return axios.post(\"/clients/calculate/\".concat(client_id),formData,config);case 4:res=_context7.sent;dispatch({type:GET_CLIENT_ESTIMATES,payload:res.data});_context7.next=13;break;case 8:_context7.prev=8;_context7.t0=_context7[\"catch\"](0);errors=_context7.t0.response.data.errors;if(errors){errors.forEach(function(error){return dispatch(setAlert(error.msg,'error'));});}dispatch({type:CLIENT_PROFILE_ERROR,payload:{msg:_context7.t0.response.statusText,status:_context7.t0.response.status}});case 13:case\"end\":return _context7.stop();}}},_callee7,null,[[0,8]]);}));return function(_x7){return _ref7.apply(this,arguments);};}();};// Edit/Insert client notes\nexport var addNotes=function addNotes(formData,client_id){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var config,res;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;config={headers:{'Content-Type':'application/json'}};_context8.next=4;return axios.post(\"/clients/notes/\".concat(client_id),formData,config);case 4:res=_context8.sent;dispatch({type:GET_CLIENT_NOTES,payload:res.data});_context8.next=11;break;case 8:_context8.prev=8;_context8.t0=_context8[\"catch\"](0);dispatch({type:CLIENT_PROFILE_ERROR,payload:{msg:_context8.t0.response.statusText,status:_context8.t0.response.status}});case 11:case\"end\":return _context8.stop();}}},_callee8,null,[[0,8]]);}));return function(_x8){return _ref8.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/ashad/JS_projects/clientProgrammingPlanner/client/src/actions/profile.js"],"names":["axios","setAlert","GET_CLIENT_PROFILE","CLIENT_PROFILE_ERROR","CLEAR_PROFILE","GET_ALL_PROFILES","PROFILES_ERROR","UPDATE_RM","EDIT_CLIENT_PROFILE","DELETE_CLIENT","GET_CLIENT_ESTIMATES","GET_CLIENT_NOTES","getClientProfile","client_id","dispatch","get","res","type","payload","data","msg","response","statusText","status","getAllProfiles","insertClient","formData","history","config","headers","put","push","errors","forEach","error","editClient","post","addRM","deleteClient","delete","getEstimates","addNotes"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { setAlert } from './alert';\r\nimport {\r\n  GET_CLIENT_PROFILE,\r\n  CLIENT_PROFILE_ERROR,\r\n  CLEAR_PROFILE,\r\n  GET_ALL_PROFILES,\r\n  PROFILES_ERROR,\r\n  UPDATE_RM,\r\n  EDIT_CLIENT_PROFILE,\r\n  DELETE_CLIENT,\r\n  GET_CLIENT_ESTIMATES,\r\n  GET_CLIENT_NOTES,\r\n} from './types';\r\n\r\n\r\n// Get single profile\r\nexport const getClientProfile = (client_id) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(`/clients/search/${client_id}`);\r\n    dispatch({\r\n      type: GET_CLIENT_PROFILE,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: CLIENT_PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n// Get all profiles\r\nexport const getAllProfiles = () => async (dispatch) => {\r\n  dispatch({ type: CLEAR_PROFILE });\r\n\r\n  try {\r\n\r\n    const res = await axios.get(`/clients`);\r\n    dispatch({\r\n      type: GET_ALL_PROFILES,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: PROFILES_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n// Insert client profile \r\nexport const insertClient = (formData, history) => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n    const res = await axios.put('/clients/insert', formData, config);\r\n    dispatch({\r\n      type: GET_CLIENT_PROFILE,\r\n      payload: res.data,\r\n    });\r\n    dispatch(setAlert('Client added successfully', 'success'));\r\n    history.push('/dashboard');\r\n  } catch (err) {\r\n    const errors = err.response.data.errors;\r\n    if (errors) {\r\n      errors.forEach((error) => dispatch(setAlert(error.msg, 'danger')));\r\n    }\r\n    dispatch({\r\n      type: CLIENT_PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n\r\n// Edit client profile\r\nexport const editClient = (formData, client_id) => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n    const res = await axios.post(`/clients/edit/${client_id}`, formData, config);\r\n    dispatch({\r\n      type: EDIT_CLIENT_PROFILE,\r\n      payload: res.data,\r\n    });\r\n    dispatch(setAlert('Client updated successfully', 'success'));\r\n  } catch (err) {\r\n    const errors = err.response.data.errors;\r\n    if (errors) {\r\n      errors.forEach((error) => dispatch(setAlert(error.msg, 'danger')));\r\n    }\r\n    dispatch({\r\n      type: CLIENT_PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n// Add new RM\r\nexport const addRM = (formData, client_id) => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n    const res = await axios.post(`/clients/add/${client_id}`, formData, config);\r\n    dispatch({\r\n      type: UPDATE_RM,\r\n      payload: res.data,\r\n    });\r\n    dispatch(setAlert('New RM added', 'success'));\r\n  } catch (err) {\r\n    const errors = err.response.data.errors;\r\n    if (errors) {\r\n      errors.forEach((error) => dispatch(setAlert(error.msg, 'danger')));\r\n    }\r\n    dispatch({\r\n      type: CLIENT_PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n// Delete client\r\nexport const deleteClient = (client_id) => async (dispatch) => {\r\n  // if (window.confirm('Are you sure? This will be permanent.'))\r\n  try {\r\n    await axios.delete(`/clients/delete/${client_id}`);\r\n    dispatch({\r\n      type: DELETE_CLIENT,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: CLIENT_PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n// Get estimates\r\nexport const getEstimates = (formData, client_id) => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n    const res = await axios.post(`/clients/calculate/${client_id}`, formData, config);\r\n    dispatch({\r\n      type: GET_CLIENT_ESTIMATES,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    const errors = err.response.data.errors;\r\n    if (errors) {\r\n      errors.forEach((error) => dispatch(setAlert(error.msg, 'error')));\r\n    }\r\n    dispatch({\r\n      type: CLIENT_PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n// Edit/Insert client notes\r\nexport const addNotes = (formData, client_id) => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n    const res = await axios.post(`/clients/notes/${client_id}`, formData, config);\r\n    dispatch({\r\n      type: GET_CLIENT_NOTES,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n\r\n    dispatch({\r\n      type: CLIENT_PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}